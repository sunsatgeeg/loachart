<div id="my-space-top" style="display: none;">
    <div class="mx-auto py-4" style="width: 728px; background-color: rgb(165, 186, 207);">
        <span class="text-black fs-4">일기장</span>
    </div>
    <div id="coffee-right" style="box-sizing: border-box; position: absolute; top: 200px; left: 50%; margin-left: 595px; background-color: rgb(165, 186, 207); height: 350px; width: 300px;">
        <a href="https://open.kakao.com/o/sjz792ce" target="_blank" style="color: white; text-decoration: none;">
            <div style="box-sizing: border-box; position: absolute; background-image: url(/img/kakaoQRSymbol.png); background-repeat: no-repeat; width: 73px; height: 64px; top: 136px; left: 131px; background-size: 56%;"></div>
        </a>
        <div id="coffeeQR" style="height: 7.7px; width: 7.7px; box-shadow: none; transform: rotate(0.02deg);"></div>
        <h5 style="margin-top: 300px; color:black;">10멸 아니면 안쓰는 기프티콘 후원</h5>
    </div>
    <div id="coffee-left" style="box-sizing: border-box; position: absolute; top: 200px; right: 50%; margin-right: 595px; background-color: rgb(165, 186, 207); height: 350px; width: 300px;">
        <a href="https://discord.gg/2HmVSf8bzn" target="_blank">
            <img src="\img\discord.png" alt="Bar Chart" height="200px" style="margin-top: 50px;">
        </a>
        <h5 style="margin-top: 50px; color:black;">에러 제보 / 패치 알림</h5>
    </div>
</div>


<div class="row">
    <div class="col">
        <div id="ads-top">
            <div class="text-center">
                <ins class="adsbygoogle"
                    style="display:inline-block;width:728px;height:90px"
                    data-ad-client="ca-pub-4936470262963011"
                    data-ad-slot="1957033553"></ins>
            </div>
        </div>
        <div id="ads-left">
            <div>
                <ins class="adsbygoogle"
                    style="display:inline-block;width:300px;height:600px"
                    data-ad-client="ca-pub-4936470262963011"
                    data-ad-slot="8271407887"></ins>
            </div>
        </div>
        <div id="ads-right">
            <div>
                <ins class="adsbygoogle"
                    style="display:inline-block;width:300px;height:600px"
                    data-ad-client="ca-pub-4936470262963011"
                    data-ad-slot="5453672853"></ins>
            </div>
        </div>
    </div>
</div>

<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    (adsbygoogle = window.adsbygoogle || []).push({});
    (adsbygoogle = window.adsbygoogle || []).push({});

    document.addEventListener('scroll', ()=>{
        let scrollTop = document.documentElement.scrollTop;
        scrollTop = (scrollTop < 210) ? '200' * 1 : document.documentElement.scrollTop + '10' * 1
        document.querySelector('#ads-right').style.top = `${scrollTop}px`
        document.querySelector('#ads-left').style.top = `${scrollTop}px`
        document.querySelector('#coffee-right').style.top = `${scrollTop}px`
        document.querySelector('#coffee-left').style.top = `${scrollTop}px`
    })
    
    let canvasQR = ()=>{
        let qrCoordinates = [[1,2,3,4,5,6,7,10,12,15,18,23,26,27,29,31,32,33,34,35,36,37],[1,7,11,12,15,17,20,23,24,29,31,37],[1,3,4,5,7,9,12,14,15,19,20,23,26,27,31,33,34,35,37],[1,3,4,5,7,9,12,13,16,18,19,20,23,26,27,28,29,31,33,34,35,37],[1,3,4,5,7,12,15,18,20,21,24,25,26,31,33,34,35,37],[1,7,10,13,14,16,18,20,21,22,24,31,37],[1,2,3,4,5,6,7,9,11,13,15,17,19,21,23,25,27,29,31,32,33,34,35,36,37],[13,15,18,20,23,26,28,29],[4,5,7,8,12,15,17,19,22,26,34,35],[1,2,3,5,8,10,11,12,14,15,19,20,22,25,26,27,28,29,31,32,33,34],[2,4,5,6,7,10,12,13,14,16,20,23,24,26,28,30,31,32,33,35,36,37],[1,2,3,6,9,12,13,16,17,21,23,27,29,30,31,32,33,34,35,37],[2,3,6,7,8,10,13,14,15,17,18,19,21,22,23,25,28,31],[2,3,6,13,15,17,18,19,20,22,23,24,27,28,30,33,35],[2,3,6,7,10,11,12,14,16,17,18,20,24,27,28,29,31,33,34,35,36,37],[1,4,5,6,10,11,12,13,14,17,20,21,22,23,27,28,29,30,31,32,34,35,36,37],[1,3,4,5,6,7,9,10,12,14,15,16,17,25,26,31,35,37],[3,6,11,12,15,17,25,26,28,30,32,34,36],[1,2,3,4,5,6,7,10,11,12,14,24,26,27,28,30,31,34,37],[1,5,8,9,10,12,14,23,24,26,30,32,36,37],[4,6,7,9,10,11,12,13,14,15,22,23,24,28,29,30,31,33,34],[2,6,10,11,13,14,15,16,19,20,22,23,26,28,29,32,33,34,36],[2,4,5,7,9,10,11,13,14,15,16,18,20,22,24,25,26,28,33,35,36,37],[1,2,4,8,10,13,15,17,18,20,21,23,24,25,26,28,29,32,34,35,37],[1,3,4,7,10,19,20,24,25,26,30,31,34,37],[1,3,9,11,12,13,14,16,17,20,21,22,27,28,30,32,33],[1,2,3,4,7,8,10,12,16,17,18,20,21,22,23,24,25,27,28,29,31,32,34,36,37],[1,4,5,8,10,11,12,14,15,17,18,19,20,22,23,24,29,30,32,33,34,35,36],[1,7,8,9,11,12,13,16,18,19,21,25,26,28,29,30,31,32,33,35],[9,13,16,18,20,21,22,23,27,28,29,33,34,35,36],[1,2,3,4,5,6,7,9,10,11,13,14,17,19,22,23,24,27,29,31,33,34,35,37],[1,7,12,13,14,19,20,22,24,25,26,28,29,33,34,37],[1,3,4,5,7,9,15,17,18,19,23,27,28,29,30,31,32,33,37],[1,3,4,5,7,9,12,16,17,19,20,22,23,25,27,31,34],[1,3,4,5,7,11,13,14,15,18,21,24,26,27,28,29,33,34,35,36,37],[1,7,10,12,14,15,16,17,18,19,21,23,24,25,30,32,33,34,35,36,37],[1,2,3,4,5,6,7,10,11,12,13,20,22,23,24,25,29,34,37]]
        let imageDiv = document.querySelector('#coffeeQR');
        
        let size = parseFloat(imageDiv.style.height);
        let boxShadowContent = "";
        for (let i = 0; i < 37; i++) {
            let thisLine = qrCoordinates[i];
            for (let j = 1; j < 38; j++) {
                if(boxShadowContent != "") boxShadowContent += ', '
                if(thisLine.includes(j)) boxShadowContent += `rgb(0, 0, 0) ${ j * size }px ${ (i + 1) * size }px 0px 0px`;
                else boxShadowContent += `rgb(0, 0, 0, 0) ${ j * size }px ${ (i + 1) * size }px 0px 0px`;
            }
        }
        imageDiv.style.boxShadow = boxShadowContent;
    };
    canvasQR();
    
    let coffeeLength = 0;
    let coffeeCount = 0;
    let myCoffeeCheck = setInterval(()=>{
        try{
            coffeeLength = document.querySelector("#ads-top ins").childElementCount;
        }catch{}
        coffeeCount++;
    
        if(coffeeLength > 0){
            document.getElementById('my-space-top').style.display = 'none';
            console.log('커피 감사합니다.')
            clearTimeout(myCoffeeCheck);
            return;
        }
        if(coffeeCount > 50){
            console.log('커피 사주세요...')
            clearTimeout(myCoffeeCheck);
            return;
        }
        
        document.getElementById('my-space-top').style.display = '';
    },100)
</script>